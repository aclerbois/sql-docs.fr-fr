---
title: Indicateurs de trace (Transact-SQL) | Microsoft Docs
ms.custom: ''
ms.date: 01/08/2018
ms.prod: sql
ms.prod_service: sql-database
ms.reviewer: ''
ms.suite: sql
ms.technology: t-sql
ms.tgt_pltfrm: ''
ms.topic: language-reference
dev_langs:
- TSQL
helpviewer_keywords:
- trace flags [SQL Server], about trace flags
- trace flags [SQL Server]
- global trace flags [SQL Server]
- flags [SQL Server]
- session trace flags [SQL Server]
- performance [SQL Server], trace
- debugging [SQL Server], trace flags
ms.assetid: b971b540-1ac2-435b-b191-24399eb88265
caps.latest.revision: 171
author: pmasl
ms.author: pelopes
manager: craigg
ms.openlocfilehash: 52ad63dc661cce6950b5d0939d4a6d508fb6a137
ms.sourcegitcommit: f1caaa156db2b16e817e0a3884394e7b30fb642f
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/04/2018
---
# <a name="dbcc-traceon---trace-flags-transact-sql"></a>DBCC TRACEON - Indicateurs de trace (Transact-SQL)
[!INCLUDE[tsql-appliesto-ss2012-xxxx-xxxx-xxx-md](../../includes/tsql-appliesto-ss2012-xxxx-xxxx-xxx-md.md)]

Les indicateurs de trace permettent de définir temporairement des caractéristiques de serveur spécifiques ou de désactiver un comportement particulier. Par exemple, si l'indicateur de trace 3205 est défini au démarrage d'une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], la compression matérielle des lecteurs de bandes est désactivée. Les indicateurs de trace servent le plus souvent à diagnostiquer des problèmes de performances et à déboguer des procédures stockées ou des systèmes informatiques complexes.
  
Le tableau ci-dessous répertorie et décrit les indicateurs de trace disponibles dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].
 
> [!NOTE]
> Certains indicateurs de trace ont été introduits dans des versions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] spécifiques. Pour plus d’informations sur la version applicable, consultez l’article du support technique Microsoft associé à un indicateur de trace spécifique.

> [!IMPORTANT]
> Il est possible que le comportement des indicateurs de trace ne soit pas pris en charge dans les prochaines versions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 

  
|Indicateur de trace|Description|  
|---|---|
|**139**| Impose une sémantique de conversion correcte dans l’étendue de commandes DBCC CHECK telles que [DBCC CHECKDB](../../t-sql/database-console-commands/dbcc-checkdb-transact-sql.md), [DBCC CHECKTABLE](../../t-sql/database-console-commands/dbcc-checktable-transact-sql.md) et [DBCC CHECKCONSTRAINTS](../../t-sql/database-console-commands/dbcc-checkconstraints-transact-sql.md) lors de l’analyse de la logique de précision et de conversion améliorée introduite avec le niveau de compatibilité 130 pour des types de données spécifiques sur une base de données qui a un niveau de compatibilité inférieur. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/help/4010261).<br /><br />**Remarque :** Cet indicateur de trace s’applique à la mise à jour cumulative 3 pour la version finale de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 et aux builds ultérieures.<br /><br />**AVERTISSEMENT :** L’indicateur de trace 139 n’est pas destiné à être activé en permanence dans un environnement de production et doit être utilisé dans le seul but d’effectuer les vérifications de validation de base de données décrites dans cet [article du support technique Microsoft](http://support.microsoft.com/help/4010261). Il doit être désactivé immédiatement après l’exécution des vérifications de validation.<br /><br />**Étendue** : globale uniquement|
|**174**|Augmente le nombre de compartiments du cache du plan du [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] de 40 009 à 160 001 sur les systèmes 64 bits. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3026083).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale uniquement|
|**176**|Active un correctif pour résoudre les erreurs lors de la reconstruction des partitions en ligne pour les tables qui contiennent une colonne de partitionnement calculée. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3213683).<br /><br />**Étendue** : globale ou de session|
|**205**|Crée un rapport dans le journal des erreurs quand une procédure stockée dépendante des statistiques est recompilée suite à une mise à jour automatique des statistiques. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/195565).<br /><br />**Étendue** : globale uniquement|
|**260**|Imprime les informations de version relatives aux bibliothèques de liaison dynamique (DLL) des procédures stockées étendues. Pour plus d’informations sur **GetXpVersion()**, consultez [Création de procédures stockées étendues](../../relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures.md).<br /><br />**Étendue** : globale ou de session|
|**272**|Désactive la préallocation d’identité pour éviter les écarts dans les valeurs d’une colonne d’identité si le serveur redémarre de façon inattendue ou bascule vers un serveur secondaire. Notez que la mise en cache d’identité est utilisée pour améliorer les performances INSERT sur les tables comprenant des colonnes d’identité.<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)], pour effectuer cette opération au niveau de la base de données, consultez l’option IDENTITY_CACHE dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Étendue** : globale uniquement|
|**610**|Contrôle les insertions faisant l’objet d’une journalisation minimale dans des tables indexées. Cet indicateur de trace n’est pas nécessaire à compter de SQL Server 2016, car la journalisation minimale est activée par défaut pour les tables indexées. Dans SQL Server 2016, quand l’opération de chargement en masse entraîne l’allocation d’une nouvelle page, toutes les lignes remplissant de manière séquentielle cette nouvelle page font l’objet d’une journalisation minimale si toutes les autres conditions préalables pour la journalisation minimale sont remplies. Les lignes insérées dans les pages existantes (aucune allocation de nouvelle page) pour conserver l’ordre d’index font toujours l’objet d’une journalisation intégrale, comme les lignes qui sont déplacées à la suite de fractionnements de pages lors du chargement. Il est également important d’activer ALLOW_PAGE_LOCKS pour les index (valeur ON activée par défaut) afin que l’opération de journalisation minimale fonctionne quand les verrous de page sont acquis au cours de l’allocation et, de ce fait, seules les allocations de pages ou d’extensions sont enregistrées. Pour plus d’informations, consultez [Guide des performances de chargement des données](https://msdn.microsoft.com/library/dd425070.aspx).<br /><br />**Étendue** : globale ou de session|
|**634**|Désactive la tâche de compression de columnstore d'arrière-plan. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] exécute régulièrement la tâche d’arrière-plan du moteur de tuple qui compresse les rowgroups d’index columnstore avec des données non compressées, un rowgroup à la fois.<br /><br />La compression columnstore améliore les performances des requêtes mais consomme également des ressources système. Vous pouvez contrôler le temps que prend la compression columnstore manuellement, en désactivant la tâche de compression d’arrière-plan avec l’indicateur de trace 634, puis en appelant explicitement ALTER INDEX...REORGANIZE ou ALTER INDEX...REBUILD quand vous le souhaitez.<br /><br />**Étendue** : globale uniquement|
|**652**|Désactive les analyses de prérécupération de pages. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue** : globale ou de session|
|**661**|Désactive le processus de suppression de l’enregistrement fantôme. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue** : globale uniquement|
|**692**|Désactive les insertions rapides lors du chargement en masse des données dans un segment de mémoire ou un index cluster. À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], les insertions rapides sont activées par défaut et tirent parti d’une journalisation minimale quand la base de données est en mode de récupération simple ou utilisant les journaux de transactions pour optimiser les performances d’insertion des enregistrements insérés dans de nouvelles pages. Avec les insertions rapides, chaque lot de chargement en masse acquiert de nouvelles extensions en ignorant la recherche d’allocation des extensions existantes avec l’espace libre disponible pour optimiser les performances d’insertion.<br /><br /> Avec les insertions rapides, les chargements en masse de lots de petite taille peuvent aboutir à une plus grande quantité d’espace inutilisé consommée par les objets ; par conséquent, il est recommandé d’utiliser une taille importante pour chaque lot afin de remplir complètement l’extension. S’il n’est pas possible d’augmenter la taille de lot, cet indicateur de trace peut aider à réduire l’espace inutilisé réservé au détriment des performances. <br /><br />**Remarque :** Cet indicateur de trace s’applique à la version finale de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] et aux builds ultérieures.<br /><br />**Étendue** : globale ou de session|
|**715**|Active le verrou de table pour les opérations de chargement en masse dans un segment de mémoire sans index non-cluster. Quand cet indicateur de trace est activé, les opérations de chargement en masse acquièrent des verrous de mise à jour en bloc lors de la copie en bloc des données dans une table. Les verrous de mise à jour en bloc permettent à plusieurs threads de charger en masse des données simultanément dans la même table tout en empêchant les autres processus qui n’effectuent pas de chargement en masse de données d’accéder à cette table.<br /><br />Le comportement est similaire quand l’utilisateur spécifie explicitement l’indicateur TABLOCK lors du chargement en masse, ou quand le verrou de table sp_tableoption sur le chargement en masse est activé pour une table donnée. Toutefois, quand cet indicateur de trace est activé, ce comportement s’applique par défaut sans aucune modification de la requête ni de la base de données.<br /><br />**Étendue** : globale ou de session|
|**834**|Utilise les allocations de pages de grande taille de Microsoft Windows pour le pool de mémoires tampons. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3210239).<br /><br />**Remarque :** Si vous utilisez la fonctionnalité d’index columnstore de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] à [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], nous vous déconseillons d’activer l’indicateur de trace 834.<br /><br />**Étendue** : globale uniquement|
|**845**|Active les pages verrouillées sur les références standard de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] quand le privilège Verrouiller les pages en mémoire est activé pour le compte de service de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/970070) et la page de documentation sur [server memory (options de configuration du serveur)](../../database-engine/configure-windows/server-memory-server-configuration-options.md#lock-pages-in-memory-lpim).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], ce comportement est activé par défaut pour les références standard et l’indicateur de trace 845 ne doit pas être utilisé.<br /><br />**Étendue** : globale uniquement|
|**902**|Ignore l’exécution du script de mise à niveau de base de données lors de l’installation d’une mise à jour cumulative ou d’un Service Pack. Si vous rencontrez une erreur en mode de mise à niveau de script, il est recommandé de contacter le support technique/service clientèle Microsoft SQL pour obtenir des instructions supplémentaires. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2163980).<br /><br />**AVERTISSEMENT :** Cet indicateur de trace est destiné à la résolution des problèmes de mises à jour ayant échoué en mode de mise à niveau de script et son exécution en permanence n’est pas prise en charge dans un environnement de production. Le script de mise à niveau de base de données doit s’exécuter correctement pour une installation complète de mises à jour cumulatives et de Service Packs. Dans le cas contraire, des problèmes inattendus peuvent affecter votre instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />**Étendue** : globale uniquement|
|**1117**|Quand un fichier dans le groupe de fichiers atteint le seuil de croissance automatique, la taille de tous les fichiers croît.<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par les options AUTOGROW_SINGLE_FILE et AUTOGROW_ALL_FILES d’ALTER DATABASE. L’indicateur de trace 1117 n’a aucun effet. Pour plus d’informations, consultez [Options de fichiers et de groupes de fichiers ALTER DATABASE &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-file-and-filegroup-options.md).<br /><br />**Étendue** : globale uniquement|
|**1118**|Supprime la plupart des allocations de pages uniques sur le serveur, réduisant ainsi la contention de la page SGAM. Par défaut, quand un objet est créé, les huit premières pages sont allouées depuis des extensions différentes (extensions mixtes). Par la suite, quand d'autres pages seront nécessaires, elles seront allouées à partir de cette même étendue (étendue uniforme). La page SGAM permet d'effectuer le suivi de ces étendues mixtes et peut rapidement devenir un goulot d'étranglement en cas de nombreuses allocations de pages mixtes. Au moment de la création d'objets, l'indicateur de trace alloue les huit pages à partir de la même étendue, ce qui réduit la nécessité d'analyser la page SGAM. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/328551).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par l’option SET MIXED_PAGE_ALLOCATION d’ALTER DATABASE. L’indicateur de trace 1118 n’a aucun effet. Pour plus d’informations, consultez [Options ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md).<br /><br />**Étendue** : globale uniquement|  
|**1204**|Retourne les ressources et les types de verrous participant à l'interblocage et la commande active affectée. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/832524).<br /><br />**Étendue** : globale uniquement|  
|**1211**|Désactive l'escalade de verrous en fonction de la sollicitation de la mémoire ou du nombre de verrous. Le [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] ne promeut aucun verrou de ligne ou de page au rang de verrou de table.<br /><br />L'utilisation de cet indicateur de trace peut générer un nombre excessif de verrous. Ceci peut entraîner un ralentissement des performances du [!INCLUDE[ssDE](../../includes/ssde-md.md)] ou provoquer des erreurs de type 1204 (impossible d'allouer la ressource du verrou) pour cause de mémoire insuffisante.<br /><br />Si les deux indicateurs de trace 1211 et 1224 sont définis, 1211 est prioritaire sur 1224. Toutefois, comme l'indicateur de trace 1211 empêche l'escalade dans chaque cas, même si la mémoire est sollicitée, nous vous recommandons d'utiliser 1224. Cela permet d'éviter les erreurs liées au manque de verrous, lorsque de nombreux verrous sont utilisés.<br /><br />**Étendue** : globale ou de session|  
|**1222**|Retourne les ressources et les types de verrous participant au blocage et la commande active affectée, au format XML n'ayant à être validé par aucun schéma XSD particulier.<br /><br />**Étendue** : globale uniquement|  
|**1224**|Désactive l'escalade de verrous en fonction du nombre de verrous. Cependant, une sollicitation de la mémoire peut toujours activer l'escalade de verrous. Le [!INCLUDE[ssDE](../../includes/ssde-md.md)] promeut les verrous de ligne ou de page au rang de verrous de table (ou de partition) si l'une des conditions suivantes n'est pas respectée :<br /><br />-   Quarante pour cent de la mémoire utilisée par le [!INCLUDE[ssDE](../../includes/ssde-md.md)]. Ceci s’applique uniquement quand le paramètre **locks** de sp_configure a la valeur 0.<br />-   Quarante pour cent de la mémoire des verrous configurée à l’aide du paramètre **locks** de sp_configure. Pour plus d’informations, consultez [Options de configuration de serveur &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />Si les deux indicateurs de trace 1211 et 1224 sont définis, 1211 est prioritaire sur 1224. Toutefois, comme l'indicateur de trace 1211 empêche l'escalade dans chaque cas, même si la mémoire est sollicitée, nous vous recommandons d'utiliser 1224. Cela permet d'éviter les erreurs liées au manque de verrous, lorsque de nombreux verrous sont utilisés.<br /><br />**Remarque :** L’escalade de verrous jusqu’à la granularité de niveau table ou HoBT peut également être contrôlée en utilisant l’option LOCK_ESCALATION de l’instruction [ALTER TABLE](../../t-sql/statements/alter-table-transact-sql.md).<br /><br />**Étendue** : globale ou de session|
|**1236**|Active le partitionnement de verrou de base de données. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2926217).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1, ce comportement est contrôlé par le moteur. L’indicateur de trace 1236 n’a aucun effet.<br /><br />**Étendue** : globale uniquement|
|**1237**|Permet à l’instruction ALTER PARTITION FUNCTION de respecter la priorité d’interblocage de session définie par l’utilisateur actuel au lieu d’être la victime d’interblocage probable par défaut. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/help/4025261).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQLv14](../../includes/sssqlv14-md.md)] et du [niveau de compatibilité](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) de base de données 140, il s’agit du comportement par défaut. L’indicateur de trace 1237 n’a aucun effet.<br /><br />**Étendue** : globale, de session ou de requête|
|**1260**|Désactive les vidages du moniteur du planificateur.<br /><br />**Étendue** : globale uniquement|   
|**1448**|Permet à l'agent de lecture du journal de réplication d'avancer même si les éléments secondaires asynchrones n'ont pas accusé réception d'une modification. Même si cet indicateur de trace a activé l'agent de lecture de journal, attendez toujours les éléments secondaires synchrones. L'agent de lecture du journal n'ira pas au delà de l'accusé réception minimum des éléments secondaires synchrones. Cet indicateur de trace s'applique à l'instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], et pas simplement à un groupe de disponibilité, à une base de données de disponibilité ou à une instance de l'agent de lecture de journal. Prend effet immédiatement, sans redémarrage. Cet indicateur de trace peut être activé d'avance ou lorsque l'élément secondaire asynchrone échoue. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/937041).<br /><br />**Étendue** : globale uniquement|   
|**1462**|Désactive la compression du flux de journal pour les groupes de disponibilité asynchrones. Cette fonctionnalité est activée par défaut sur les groupes de disponibilité asynchrones pour optimiser la bande passante réseau. Pour plus d’informations, consultez [Régler la compression pour le groupe de disponibilité](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Étendue** : globale uniquement| 
|**1800**|Permet l’optimisation de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] quand des disques de tailles de secteur différentes sont utilisés pour les fichiers journaux de réplicas principal et secondaire dans les environnements de copie des journaux de transaction et [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Always On. Cet indicateur de trace ne doit être activé que sur les instances de SQL Server avec le fichier journal des transactions résidant sur le disque avec une taille de secteur de 512 octets. Il n’est **pas** nécessaire de l’activer sur un disque avec une taille de secteur de 4 Ko. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3009974).<br /><br />**Étendue** : globale uniquement|
|**2301**|Active les optimisations d’aide à la décision avancée. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue** : globale, de session et de requête|
|**2312**|Permet de définir le modèle d’estimation de la cardinalité de l’optimiseur de requête sur les versions [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] jusqu’à [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], selon le niveau de compatibilité de la base de données. Pour plus d’informations, consultez [l’article du support technique Microsoft](http://support.microsoft.com/kb/2801413).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_DEFAULT_CARDINALITY_ESTIMATION' au lieu d’utiliser cet indicateur de trace.<br /><br />**Étendue** : globale, de session ou de requête| 
|**2335**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à supposer qu’une quantité fixe de mémoire est disponible pendant l’optimisation des requêtes. Il ne limite pas la mémoire accordée par [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour exécuter la requête. La mémoire configurée pour [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sera toujours utilisée par le cache de données, l’exécution des requêtes et d’autres consommateurs. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2413549).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête|
|**2340**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à ne pas appliquer d’opération de tri (tri par lots) sur les jointures de boucles imbriquées optimisées lors de la génération d’un plan. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2009160).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZED_NESTED_LOOP' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête|
|**2371**|Remplace le seuil de mise à jour automatique des statistiques fixe par un seuil de mise à jour automatique des statistiques dynamique. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2754171).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] et sous le [niveau de compatibilité de base de données](../../relational-databases/databases/view-or-change-the-compatibility-level-of-a-database.md) 130, ce comportement est contrôlé par le moteur. L’indicateur de trace 2371 n’a aucun effet.<br /><br />**Étendue** : globale uniquement|
|**2389**|Active automatiquement la génération de statistiques rapides pour les clés croissantes (modification de l’histogramme). Si l’indicateur de trace 2389 est défini et qu’une première colonne de statistiques est marquée comme croissante, l’histogramme utilisé pour estimer la cardinalité sera ajusté au moment de la compilation de la requête. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2801413).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 120 ou ultérieure. Utilisez l’indicateur de trace 4139 à la place.<br /><br />**Étendue** : globale, de session ou de requête|
|**2390**|Active automatiquement la génération de statistiques rapides pour les clés croissantes ou inconnues (modification de l’histogramme). Si l’indicateur de trace 2390 est défini et qu’une première colonne de statistiques est marquée comme croissante ou inconnue, l’histogramme utilisé pour estimer la cardinalité sera ajusté au moment de la compilation de la requête. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2801413).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 120 ou ultérieure. Utilisez l’indicateur de trace 4139 à la place.<br /><br />**Étendue** : globale, de session ou de requête|
|**2422**|Permet au [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] d’annuler une demande quand la durée maximale définie par la configuration REQUEST_MAX_CPU_TIME_SEC de Resource Governor est dépassée. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/help/4038419).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2, [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 et aux builds ultérieures.<br /><br />**Étendue** : globale|
|**2430**|Active un nettoyage de classe de verrous de remplacement. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2754301).<br /><br />**Étendue** : globale uniquement| 
|**2453**|Permet à une variable de table de déclencher une recompilation quand un nombre suffisant de lignes a changé. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2952444).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête|
|**2469**|Active un autre échange pour `INSERT INTO ... SELECT` dans un index columnstore partitionné. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3204769).<br /><br />**Étendue** : globale, de session ou de requête|
|**2528**|Désactive la vérification parallèle des objets par DBCC CHECKDB, DBCC CHECKFILEGROUP et DBCC CHECKTABLE. Par défaut, le degré de parallélisme est déterminé automatiquement par le processeur de requête. Le degré maximum de parallélisme est configuré de la même manière que celui des requêtes parallèles. Pour plus d’informations, consultez [Configurer l’option de configuration du serveur max degree of parallelism](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md).<br /><br />**Remarque :** Les vérifications DBCC en parallèle doivent en principe être activées (valeur par défaut). Le processeur de requêtes réévalue et ajuste automatiquement le parallélisme pour chaque table ou lot de tables vérifiées par DBCC CHECKDB.<br /><br />Le scénario d’utilisation classique est quand un administrateur système sait qu’une charge serveur va augmenter avant la fin de l’exécution de DBCC CHECKDB et choisit donc de réduire ou désactiver manuellement le parallélisme afin d’augmenter la concurrence avec une autre charge de travail utilisateur. Toutefois, la désactivation des vérifications en parallèle dans DBCC CHECKDB peut rallonger son exécution.<br /><br />**Remarque :** Si DBCC CHECKDB est exécutée à l’aide de l’option TABLOCK et que le parallélisme est désactivé, les tables peuvent être verrouillées pendant de longues périodes.<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2, une option MAXDOP est disponible pour remplacer l’option de configuration max degree of parallelism de sp_configure pour l’instruction.<br /><br />**Étendue** : globale ou de session|
|**2549**|Exécute la commande DBCC CHECKDB en supposant que chaque fichier de base de données se trouve sur un lecteur de disque unique. La commande DBCC CHECKDB génère une liste interne de pages à lire par lecteur de disque unique sur tous les fichiers de base de données. Cette logique détermine les lecteurs de disque uniques en fonction de la lettre de lecteur du nom de fichier physique de chaque fichier.<br /><br />**Remarque :** N’utilisez pas cet indicateur de trace, sauf si vous savez que chaque fichier est basé sur un disque physique unique.<br /><br />**Remarque :** Même si cet indicateur de trace améliore les performances des commandes DBCC CHECKDB qui ciblent l’utilisation de l’option PHYSICAL_ONLY, certains utilisateurs peuvent ne constater aucune amélioration. Alors que cet indicateur de trace améliore l’utilisation des ressources d’E/S de disque, les performances sous-jacentes des ressources de disque peuvent limiter les performances globales de la commande DBCC CHECKDB. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2634571).<br /><br />**Étendue** : globale uniquement| 
|**2562**|Exécute la commande DBCC CHECKDB dans un seul « lot », quel que soit le nombre d’index dans la base de données. Par défaut, la commande DBCC CHECKDB tente de réduire les ressources de tempdb en limitant le nombre d’index ou de « faits » générés à l’aide d’un concept de « lots ». Cet indicateur de trace impose tout le traitement dans un lot.<br /><br />Un effet de l’utilisation de cet indicateur de trace est que l’espace nécessaire pour tempdb peut augmenter. La taille de tempdb peut atteindre jusqu’à 5 % ou plus de la base de données utilisateur qui est en cours de traitement par la commande DBCC CHECKDB.<br /><br />**Remarque :** Même si cet indicateur de trace améliore les performances des commandes DBCC CHECKDB qui ciblent l’utilisation de l’option PHYSICAL_ONLY, certains utilisateurs peuvent ne constater aucune amélioration. Alors que cet indicateur de trace améliore l’utilisation des ressources d’E/S de disque, les performances sous-jacentes des ressources de disque peuvent limiter les performances globales de la commande DBCC CHECKDB. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2634571).<br /><br />**Étendue** : globale uniquement|
|**2566**|Exécute la commande DBCC CHECKDB sans vérification de l’intégrité des données, sauf si l’option DATA_PURITY est spécifiée.<br /><br />**Remarque :** Les vérifications de l’intégrité sur la base colonne-valeur sont activées par défaut et ne nécessitent pas l’option DATA_PURITY. Pour les bases de données mises à niveau à partir de versions antérieures de SQL Server, les vérifications sur la base colonne-valeur ne sont pas activées par défaut tant que la commande DBCC CHECKDB WITH DATA_PURITY n’est pas exécutée sans erreur sur cette base de données au moins une fois. Ensuite, DBCC CHECKDB vérifie l'intégrité sur la base colonne-valeur par défaut. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/945770).<br /><br />**Étendue** : globale uniquement|
|**3023**|Active l’option CHECKSUM comme valeur par défaut pour la commande BACKUP. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2656988).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], ce comportement est contrôlé en définissant l’option de configuration **backup checksum default**. Pour plus d’informations, consultez [Options de configuration de serveur &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />**Étendue** : globale et de session|
|**3042**|Contourne l'algorithme de préallocation de compression de sauvegarde par défaut pour permettre au fichier de sauvegarde de croître autant que nécessaire uniquement afin d'atteindre sa taille définitive. Cet indicateur de trace est utile si vous devez économiser de l'espace en allouant uniquement la taille réelle requise pour la sauvegarde compressée. L'utilisation de cet indicateur de trace peut diminuer légèrement les performances (augmentation possible de la durée de l'opération de sauvegarde). Pour plus d’informations sur l’algorithme de préallocation, consultez [Compression de sauvegardes &#40;SQL Server&#41;](../../relational-databases/backup-restore/backup-compression-sql-server.md).<br /><br />**Étendue** : globale uniquement|
|**3051**|Active la journalisation de la sauvegarde SQL Server vers une URL dans un fichier journal des erreurs spécifique. Pour plus d’informations, consultez [Bonnes pratiques et dépannage de sauvegarde SQL Server vers une URL](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md).<br /><br />**Étendue** : globale uniquement|  
|**3205**|Par défaut, si une unité sur bande gère la compression matérielle, l'instruction DUMP ou BACKUP en fera usage. Cet indicateur de trace permet de désactiver la compression matérielle pour les unités de sauvegarde sur bande. Cette option peut s'avérer utile lorsque vous souhaitez échanger des bandes avec d'autres sites ou les utiliser avec des unités qui ne gèrent pas la compression.<br /><br />**Étendue** : globale ou de session|  
|**3226**|Par défaut, chaque opération de sauvegarde réussie ajoute une entrée au journal des erreurs [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] et au journal des événements système. Si vous créez de fréquentes sauvegardes du fichier journal, ces messages de réussite peuvent rapidement s’accumuler, créer des journaux des erreurs très volumineux et compliquer la recherche d’autres messages.<br /><br />Avec cet indicateur de trace, vous pouvez supprimer ces entrées de journal. L'activation de cet indicateur de trace est utile si vous exécutez des sauvegardes de fichiers journaux fréquentes et si aucun de vos scripts ne dépend de ces entrées.<br /><br />**Étendue** : globale uniquement|   
|**3427**|Active la correction d’un problème quand de nombreuses transactions consécutives qui insèrent des données dans la table temp dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] ou [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] consomment plus d’UC que dans [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/help/3216543).<br /><br />**Remarque :** Cet indicateur de trace s’applique à la mise à jour cumulative 2 pour [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 et aux builds ultérieures. Il n’a pas d’effet à partir de la mise à jour cumulative 4 pour [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)].<br /><br />**Étendue** : globale uniquement|  
|**3459**|Désactive la restauration par progression parallèle. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/help/3200975) et cet [article du support technique Microsoft](http://support.microsoft.com/help/4101554).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] et [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)].<br /><br />**Étendue** : globale uniquement| 
|**3468**|Désactive les [points de contrôle indirects](https://docs.microsoft.com/en-us/sql/relational-databases/logs/database-checkpoints-sql-server?view=sql-server-2017#IndirectChkpt) sur TempDB.<br /><br />**Remarque :** Cet indicateur de trace s’applique à la mise à jour cumulative 5 pour [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, à la mise à jour cumulative 1 pour [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement|  
|**3608**|Empêche [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] de démarrer automatiquement et de récupérer des bases de données, sauf la base de données **master**. Si des activités qui nécessitent **tempdb** sont lancées, **model** est récupérée et **tempdb** est créée. Les autres bases de données ne sont démarrées et récupérées qu'en cas d'accès. Certaines fonctionnalités, telles que le niveau d'isolement d'instantané et l'instantané Read Committed, peuvent ne pas fonctionner. Utilisé pour [Déplacer des bases de données système](../../relational-databases/databases/move-system-databases.md) et [Déplacer des bases de données utilisateur](../../relational-databases/databases/move-user-databases.md).<br /><br />**Remarque :** Ne pas utiliser au cours du fonctionnement normal.<br /><br />**Étendue** : globale uniquement|   
|**3625**|Limite la quantité d’informations retournée aux utilisateurs qui ne sont pas membres du rôle serveur fixe sysadmin, en masquant les paramètres de certains messages d’erreur à l’aide de « \*\*\*\*\*\* ». Cela peut permettre d'éviter la divulgation d'informations sensibles.<br /><br />**Étendue** : globale uniquement|  
|**4136**|Désactive la détection des paramètres, sauf si OPTION(RECOMPILE), WITH RECOMPILE ou OPTIMIZE FOR \<valeur> est utilisé. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/980653). Pour effectuer cette opération au niveau de la base de données, consultez l’option PARAMETER_SNIFFING dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md). Pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) OPTIMIZE FOR UNKNOWN. À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, une seconde option pour effectuer cette opération au niveau de la requête consiste à ajouter [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'PARAMETER_SNIFFING' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale ou de session|  
|**4137**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à générer un plan qui utilise la sélectivité minimale lors de l’évaluation des prédicats AND des filtres à prendre en compte pour la corrélation, sous le modèle d’estimation de la cardinalité de l’optimiseur de requête de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et versions antérieures. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2658214).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' au lieu d’utiliser cet indicateur de trace avec l’estimation de cardinalité héritée.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 120 ou ultérieure. Utilisez l’indicateur de trace 9471 à la place.<br /><br />**Étendue** : globale, de session ou de requête| 
|**4138**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à générer un plan qui n’utilise pas les ajustements d’objectif de lignes avec les requêtes contenant les mots clés TOP, OPTION (FAST N), IN ou EXISTS. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2667211).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZER_ROWGOAL' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête| 
|**4139**|Active automatiquement la génération de statistiques rapides (modification de l’histogramme) quel que soit l’état de la colonne clé. Si l’indicateur de trace 4139 est défini, quel que soit l’état de la première colonne de statistiques (croissant, décroissant ou stationnaire), l’histogramme utilisé pour estimer la cardinalité sera ajusté au moment de la compilation de la requête. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2952101).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 70. Utilisez les indicateurs de trace 2389 et 2390 à la place.<br /><br />**Étendue** : globale, de session ou de requête|
|**4199**|<a name="4199"></a>Active les modifications de l’optimiseur de requête publiées dans les mises à jour cumulatives et Service Packs pour [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />Les modifications de l’optimiseur de requête apportées à de précédentes versions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont activées par défaut sous le [niveau de compatibilité](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) de base de données le plus récent dans une version de produit donnée, sans activer l’indicateur de trace 4199.<br /><br />Le tableau suivant décrit le comportement lors de l’utilisation de niveaux de compatibilité de base de données spécifiques et de l’indicateur de trace 4199. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/974006).<br /><br /><table border="1" frame="void" width="550"><tr valign="middle" align="center"><td>**Niveau de compatibilité de la base de données**</td><td>**Indicateur de trace 4199**</td><td>**Modifications de l’optimiseur de requête de précédents niveaux de compatibilité de base de données**</td><td>**Modifications de l’optimiseur de requête pour la version actuelle après version finale**</td></tr><tr valign="middle" align="center"><td rowspan="2">**100 à 120**</td><td>Inactif</td><td>Désactivé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Actif</td><td>Activé</td><td>Activé</td></tr><tr valign="middle" align="center"><td rowspan="2">**130**</td><td>Inactif</td><td>Activé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Actif</td><td>Activé</td><td>Activé</td></tr><tr valign="middle" align="center"><td rowspan="2">**140**</td><td>Inactif</td><td>Activé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Actif</td><td>Activé</td><td>Activé</td></tr></table><br /><br />Pour effectuer cette opération au niveau de la base de données, consultez l’option QUERY_OPTIMIZER_HOTFIXES dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_QUERY_OPTIMIZER_HOTFIXES' au lieu d’utiliser cet indicateur de trace.<br /><br />**Étendue** : globale, de session ou de requête|
|**4610**|Augmente la taille de la table de hachage qui stocke les entrées de cache d’un facteur de 8. Quand il est utilisé avec l’indicateur de trace 4618, augmente le nombre d’entrées dans la banque de cache TokenAndPermUserStore jusqu’à 8 192. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/959823).<br /><br />**Étendue** : globale uniquement|
|**4616**|Permet aux rôles d'application d'accéder aux métadonnées au niveau du serveur. Dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], un rôle d'application ne peut pas accéder à des métadonnées situées en dehors de sa propre base de données car les rôles d'application ne sont pas associés à un principal au niveau serveur. Il s'agit là d'une différence par rapport aux versions antérieures de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. La définition de cet indicateur global désactive les nouvelles restrictions et permet aux rôles d'application d'accéder aux métadonnées au niveau du serveur.<br /><br />**Étendue** : globale uniquement|
|**4618**|Limite le nombre d’entrées dans la banque de cache TokenAndPermUserStore à 1 024. Quand il est utilisé avec l’indicateur de trace 4610, augmente le nombre d’entrées dans la banque de cache TokenAndPermUserStore jusqu’à 8 192. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/959823).<br /><br />**Étendue** : globale uniquement|
|**5004**|Suspend l’analyse du chiffrement TDE et provoque l’arrêt du travail d’analyse du chiffrement sans effectuer la moindre tâche. La base de données reste dans l’état de chiffrement (chiffrement en cours). Pour reprendre l’analyse de rechiffrement, désactivez l’indicateur de trace 5004 et exécutez l’instruction ALTER DATABASE <nom_base_de_données> SET ENCRYPTION ON. <br /><br />**Étendue** : globale uniquement|
|**6498**|Active la compilation de plusieurs requêtes volumineuses pour accéder à la grande passerelle quand la mémoire disponible est suffisante. Il est basé sur le pourcentage 80 de la mémoire cible SQL Server et il permet la compilation d’une requête volumineuse par 25 gigaoctets (Go) de mémoire. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3024815).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 et [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur. L’indicateur de trace 6498 n’a aucun effet.<br /><br />**Étendue** : globale uniquement|
|**6527**|Désactive la génération d'un vidage de la mémoire sur la première occurrence d'une exception mémoire insuffisante dans l'intégration du CLR. Par défaut,[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] génère un petit vidage de la mémoire sur la première occurrence d’une exception d’insuffisance de mémoire dans le CLR. Le comportement de l'indicateur de trace est comme suit :<br /><br />-   S’il est utilisé comme indicateur de trace de démarrage, un vidage de mémoire n’est jamais généré. Toutefois, un vidage de la mémoire peut être généré si d'autres indicateurs de trace sont utilisés.<br />-   Si cet indicateur de trace est activé sur un serveur en cours d’exécution, un vidage de la mémoire ne sera pas généré automatiquement à partir de ce point. Toutefois, si un vidage de la mémoire a déjà été généré en raison d'une exception mémoire insuffisante dans le CLR, cet indicateur de trace n'aura aucun effet.<br /><br />**Étendue** : globale uniquement|
|**6532**|Permet l’amélioration des performances des opérations de requête avec les types de données spatiales dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Les gains de performances varient en fonction de la configuration, des types de requêtes et des objets. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3107399).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur. L’indicateur de trace 6532 n’a aucun effet.<br /><br />**Étendue** : globale et de session|
|**6533**|Permet l’amélioration des performances des opérations de requête avec les types de données spatiales dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Les gains de performances varient en fonction de la configuration, des types de requêtes et des objets. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3107399).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur. L’indicateur de trace 6533 n’a aucun effet.<br /><br />**Étendue** : globale et de session| 
|**6534**|Permet l’amélioration des performances des opérations de requête avec les types de données spatiales dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] et [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Les gains de performances varient en fonction de la configuration, des types de requêtes et des objets. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3107399).<br /><br />**Étendue** : globale et de session|
|**7314**|Impose le traitement des valeurs NUMBER avec une précision/échelle inconnue comme des valeurs double avec le fournisseur OLE DB. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3051993).<br /><br />**Étendue** : globale et de session|  
|**7412**|Active l’infrastructure légère de profilage des statistiques sur l’exécution des requêtes. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3170113).<br /><br />**Étendue** : globale uniquement|
|**7471**|Permet l’exécution de plusieurs instructions [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) pour différentes statistiques sur une seule table simultanément. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3156157).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement|
|**7745**|Force le magasin des requêtes à ne pas vider les données sur le disque lors de l’arrêt de la base de données.<br /><br />**Remarque :** L’utilisation de cette trace peut entraîner la perte en cas d’arrêt des données du magasin des requêtes qui n’ont pas été vidées précédemment sur le disque. Pour un arrêt de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], la commande SHUTDOWN WITH NOWAIT peut être utilisée à la place de cet indicateur de trace pour forcer un arrêt immédiat.<br /><br />**Étendue** : globale uniquement|
|**7752**|Permet le chargement asynchrone du magasin des requêtes.<br /><br />**Remarque :** Utilisez cet indicateur de trace si [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] rencontre un nombre élevé d’attentes QDS_LOADDB liées à la charge synchrone du magasin des requêtes (comportement par défaut).<br /><br />**Étendue** : globale uniquement|
|**7806**|Active une connexion administrateur dédiée (DAC) sur [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Par défaut, aucune ressource DAC n'est réservée sur [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Pour plus d’informations, consultez [Connexion de diagnostic pour les administrateurs de base de données](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).<br /><br />**Étendue** : globale uniquement|  
|**8011**|Désactive la mémoire tampon en anneau pour le moniteur de ressource. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue** : globale et de session|
|**8012**|Désactive la mémoire tampon en anneau pour les planificateurs. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue** : globale uniquement|
|**8015**|Désactive la détection automatique et le programme d’installation de NUMA. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2813214).<br /><br />**Étendue** : globale uniquement|
|**8018**|Désactive la mémoire tampon en anneau de l’exception. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue** : globale uniquement|
|**8019**|Désactive la collecte de piles pour la mémoire tampon en anneau de l’exception. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue** : globale uniquement|
|**8020**|Désactive la surveillance de la plage de travail. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue** : globale uniquement|
|**8032**|Rétablit les paramètres de limitation du cache au paramètre RTM [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] qui permet en général aux caches d'être plus volumineux. Utilisez ce paramètre quand les entrées du cache fréquemment utilisées ne tiennent pas dans le cache et que l’ [option de configuration de serveur Optimiser pour les charges de travail ad hoc](../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option.md) ne permet pas de résoudre le problème avec le cache du plan.<br /><br />**AVERTISSEMENT :** L’indicateur de trace 8032 peut altérer les performances si des caches volumineux diminuent la mémoire disponible pour les autres consommateurs, tels que le pool de mémoires tampons.<br /><br />**Étendue** : globale uniquement|   
|**8048**|Convertit les objets mémoire partitionnés par NUMA en objets partitionnés par UC. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2809338).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 et [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur. L’indicateur de trace 8048 n’a aucun effet.<br /><br />**Étendue** : globale uniquement|  
|**8075**|Réduit la fragmentation [VAS](../../relational-databases/memory-management-architecture-guide.md#changes-to-memory-management-starting-with-includesssql11includessssql11-mdmd) quand vous recevez des erreurs d’allocation de page mémoire sur une version 64 bits de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ou [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3074434).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], à la version cumulative 10 pour [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM et à la version cumulative 3 pour [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1. À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur. L’indicateur de trace 8075 n’a aucun effet.<br /><br />**Étendue** : globale uniquement|
|**8079**|Permet à [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 d’interroger la disposition matérielle et de configurer automatiquement le NUMA logiciel sur les systèmes ayant 8 UC ou plus par nœud NUMA. Le comportement du NUMA logiciel automatique est compatible Hyperthread (processeur logique/HT). Le partitionnement et la création de nœuds supplémentaires permettent de dimensionner le traitement en arrière-plan en augmentant le nombre d’écouteurs, le nombre d’instances, ainsi que les capacités réseau et de chiffrement.<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2. À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur. L’indicateur de trace 8048 n’a aucun effet.<br /><br />**Étendue** : globale uniquement| 
|**8207**|Active les mises à jour singleton pour la réplication transactionnelle. Les mises à jour des abonnés peuvent être répliquées en une paire DELETE et une paire INSERT. Il est possible que cela ne réponde pas aux règles d’entreprise, par exemple le lancement d’un déclencheur UPDATE. Avec l’indicateur de trace 8207, une mise à jour d’une colonne unique qui modifie une seule ligne (une mise à jour singleton) est répliquée en tant que paire UPDATE et non en tant que paire DELETE ou INSERT. Si la mise à jour concerne une colonne qui a une contrainte unique ou si la mise à jour concerne plusieurs lignes, elle sera toujours répliquée en tant que paire DELETE ou INSERT. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/302341).<br /><br />**Étendue** : globale uniquement|
|**8721**|Crée un rapport dans le journal des erreurs lors de l’exécution d’une mise à jour automatique des statistiques. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/195565).<br /><br />**Étendue** : globale uniquement|
|**8744**|Désactive la prérécupération pour l’opérateur de boucles imbriquées. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Remarque :** Une utilisation incorrecte de cet indicateur de trace peut entraîner des lectures physiques supplémentaires quand [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] exécute des plans qui contiennent l’opérateur de boucles imbriquées.<br /><br />**Étendue** : globale et de session|
|**9024**|Convertit un objet mémoire en pool du journal global en objet mémoire partitionné par nœud NUMA. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/2809338).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1, ce comportement est contrôlé par le moteur. L’indicateur de trace 9024 n’a aucun effet.<br /><br />**Étendue** : globale uniquement|
|**9347**|Désactive le mode batch pour l’opérateur de tri. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] contient un nouvel opérateur de tri en mode batch qui améliore les performances pour de nombreuses requêtes analytiques. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3172787).<br /><br />**Étendue** : globale, de session ou de requête|
|**9349**|Désactive le mode batch pour l’opérateur de tri des N premiers. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] contient un nouvel opérateur de tri en mode batch des premiers qui améliore les performances pour de nombreuses requêtes analytiques.<br /><br />**Étendue** : globale, de session ou de requête|
|**9389**|Permet l’allocation de mémoire dynamique pour les opérateurs en mode batch. Si une requête n’obtient pas toute la mémoire dont elle a besoin, elle répand des données sur tempdb, ce qui occasionne des E/S supplémentaires et affecte potentiellement les performances des requêtes. Si l’indicateur de trace d’allocation de mémoire dynamique est activé, un opérateur en mode batch peut demander plus de mémoire et éviter le débordement sur tempdb si de la mémoire supplémentaire est disponible.<br /><br />**Étendue** : globale ou de session| 
|**9398**|Désactive l’opérateur de [jointure adaptative](../../relational-databases/performance/adaptive-query-processing.md#batch-mode-adaptive-joins) qui permet de différer une méthode de [jointure hachée ou de jointure de boucles imbriquées](../../relational-databases/performance/joins.md) tant que la première entrée n’a pas été analysée. Il s’agit là d’une nouvelle fonctionnalité de [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/4099126).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session et de requête|
|**9453**|Désactive l’exécution en mode batch. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/help/4016902).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session et de requête|
|**9471**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à générer un plan qui utilise la sélectivité minimale pour les filtres de table unique sous le modèle d’estimation de la cardinalité de l’optimiseur de requête des versions [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] à [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 70. Utilisez l’indicateur de trace 4137 à la place.<br /><br />**Étendue** : globale, de session ou de requête| 
|**9476**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à générer un plan qui utilise l’hypothèse d’autonomie simple au lieu de l’hypothèse par défaut d’autonomie de base, sous le modèle d’estimation de la cardinalité de l’optimiseur de requête des versions [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] à [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3189675).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête| 
|**9481**|Permet de définir le modèle d’estimation de la cardinalité de l’optimiseur de requête sur les versions [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et antérieures, quel que soit le niveau de compatibilité de la base de données. Pour plus d’informations, consultez [l’article du support technique Microsoft](http://support.microsoft.com/kb/2801413). Pour effectuer cette opération au niveau de la base de données, consultez l’option LEGACY_CARDINALITY_ESTIMATION dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_LEGACY_CARDINALITY_ESTIMATION' au lieu d’utiliser cet indicateur de trace.<br /><br />**Étendue** : globale, de session ou de requête|  
|**9485**|Désactive les autorisations SELECT pour DBCC SHOW_STATISTICS.<br /><br />**Étendue** : globale uniquement|
|**9488**|Définit l’estimation fixe pour les fonctions table à la valeur par défaut 1 (correspondant à la valeur par défaut sous le modèle d’estimation de la cardinalité de l’optimiseur de requête des versions [!INCLUDE[ssKilimanjaro](../../includes/ssKilimanjaro-md.md)] et antérieures) quand vous utilisez le modèle d’estimation de la cardinalité de l’optimiseur de requête des versions [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] à [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].<br /><br />**Étendue** : globale, de session ou de requête|
|**9495**|Désactive le parallélisme lors de l’insertion pour les opérations INSERT...SELECT et applique cette mesure à la fois aux tables utilisateur et temporaires. Pour plus d’informations, consultez [l’article du support technique Microsoft](http://support.microsoft.com/kb/3180087)<br /><br />**Étendue** : globale ou de session| 
|**9567**|Active la compression du flux de données pour les groupes de disponibilité Always On au cours de l’amorçage automatique. La compression peut réduire considérablement le temps de transfert pendant l’amorçage automatique et augmente la charge sur le processeur. Pour plus d’informations, consultez [Initialiser automatiquement le groupe de disponibilité Always On](../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group.md) et [Régler la compression pour un groupe de disponibilité](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Étendue** : globale ou de session|
|**9591**|Désactive la compression de bloc de journal dans les groupes de disponibilité Always On. La compression de bloc de journal est le comportement par défaut utilisé avec les réplicas synchrones et asynchrones dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], la compression est utilisée uniquement avec la réplication asynchrone. <br /><br />**Étendue** : globale ou de session|
|**9592**|Active la compression du flux de journal pour les groupes de disponibilité synchrones. Cette fonctionnalité est désactivée par défaut sur les groupes de disponibilité synchrones, car la compression ajoute une latence. Pour plus d’informations, consultez [Régler la compression pour le groupe de disponibilité](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Étendue** : globale ou de session| 
|**9929**|Réduit les fichiers de point de contrôle en mémoire à 1 Mo chacun. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/3147012).<br /><br />**Étendue** : globale uniquement|  
|**9939**|Active les plans parallèles et l’analyse parallèle des tables à mémoire optimisée et des variables de table dans les opérations DML qui référencent des tables à mémoire optimisée ou des variables de table, tant qu’ils ne sont pas la cible de l’opération DML dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/4013877).<br /><br />**Remarque :** L’indicateur de trace 9939 n’est pas nécessaire si l’indicateur de trace 4199 est également activé de façon explicite.<br /><br />**Étendue** : globale, de session ou de requête|   
|**10204**|Désactive la fusion/recompression au cours de la réorganisation d’index columnstore. Dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], quand un index columnstore est réorganisé, il existe une nouvelle fonctionnalité pour fusionner automatiquement les petits rowgroups compressés dans des rowgroups compressés plus importants, ainsi que pour recompresser les rowgroups avec un grand nombre de lignes supprimées.<br /><br />**Remarque :** L’indicateur de trace 10204 ne s’applique pas aux index columnstore qui sont créés sur des tables à mémoire optimisée.<br /><br />**Étendue** : globale ou de session|   
|**10316**|Permet de créer des index supplémentaires sur une [table temporelle de mise en lots à mémoire optimisée interne](../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables.md) à côté de l’index par défaut. Si vous avez un modèle de requête spécifique avec des colonnes qui ne sont pas couvertes par l’index par défaut, vous pouvez envisager d’en ajouter d’autres.<br /><br />**Remarque :** Les tables temporelles avec contrôle de version du système pour les tables à mémoire optimisée sont conçues pour fournir un débit transactionnel élevé. Sachez que la création d’index supplémentaires peut introduire une charge pour les opérations DML qui mettent à jour ou suppriment des lignes dans la table actuelle. Avec les index supplémentaires, vous devez trouver le juste équilibre entre les performances des requêtes temporelles et une charge DML supplémentaire.<br /><br />**Étendue** : globale ou de session|
|**11023**|Désactive l’utilisation du dernier taux d’échantillonnage persistant pour toutes les mises à jour de statistiques suivantes où un taux d’échantillonnage n’est pas spécifié explicitement dans le cadre de l’instruction [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md). Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/4039284).<br /><br />**Étendue** : globale ou de session|    
|**11024**|Active le déclenchement de la mise à jour automatique des statistiques quand le nombre de modifications de n’importe quelle partition dépasse le [seuil](../../relational-databases/statistics/statistics.md#AutoUpdateStats) local. Pour plus d’informations, consultez cet [article du support technique Microsoft](http://support.microsoft.com/kb/4041811).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2, [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 et aux builds ultérieures.<br /><br />**Étendue** : globale ou de session| 
  
## <a name="remarks"></a>Notes   
 Dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], il existe trois types d’indicateurs de trace : de requête, de session et globaux. Les indicateurs de trace de requête sont actifs dans le contexte d’une requête spécifique. Les indicateurs de trace de session sont actifs pour une connexion et visibles uniquement par celle-ci. Les indicateurs de trace globaux sont définis au niveau du serveur et sont visibles pour chaque connexion sur celui-ci. Certains indicateurs ne peuvent être activés qu'en tant qu'indicateurs globaux, tandis que d'autres peuvent être activés avec une étendue globale ou de session.  
  
 Les règles suivantes s'appliquent :  
-   Un indicateur de trace global doit être activé globalement. Sinon, il est sans effet. Il est recommandé d’activer les indicateurs de trace globaux au démarrage, à l’aide de l’option de ligne de commande **-T**. Cela garantit que l’indicateur de trace reste actif après le redémarrage d’un serveur.  
-   Si un indicateur de trace possède une étendue globale, de session ou de requête, il peut être activé avec l’étendue appropriée. Un indicateur de trace activé au niveau session n'affecte jamais une autre session et l'effet de l'indicateur de trace est perdu lorsque le SPID qui a ouvert la session se déconnecte.  
  
Les indicateurs de trace s'activent ou se désactivent de l'une des façons suivantes :
-   en utilisant les commandes DBCC TRACEON et DBCC TRACEOFF ;  
     Par exemple, pour activer l’indicateur de trace 2528 globalement, utilisez [DBCC TRACEON](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md) avec l’argument -1 : `DBCC TRACEON (2528, -1)`. L’effet de l’activation d’un indicateur de trace global avec DBCC TRACEON est perdu lors du redémarrage du serveur. Pour désactiver un indicateur de trace global, utilisez [DBCC TRACEOFF](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md) avec l’argument -1.  
-   Utilisation de l’option de démarrage **-T** pour signaler que l’indicateur de trace doit être défini au démarrage.  
     L’option de démarrage **-T** active un indicateur de trace de façon globale. Vous ne pouvez pas activer un indicateur de trace de niveau session à l'aide d'une option de démarrage. Cela garantit que l’indicateur de trace reste actif après le redémarrage d’un serveur. Pour plus d’informations sur les options de démarrage, consultez [Options de démarrage du service moteur de base de données](../../database-engine/configure-windows/database-engine-service-startup-options.md).
-   Au niveau de la requête, utilisation de [l’indicateur de requête](http://support.microsoft.com/kb/2801413) QUERYTRACEON.
  
Utilisez la commande `DBCC TRACESTATUS` afin de déterminer quels indicateurs de trace sont actuellement actifs.
  
## <a name="examples"></a>Exemples  
 L’exemple suivant définit l’indicateur de trace 3205 pour toutes les sessions au niveau du serveur à l’aide de DBCC TRACEON.  
  
```sql  
DBCC TRACEON (3205,-1);  
```

Vous pouvez activer tous les correctifs affectant le plan contrôlés par les indicateurs de trace 4199 et 4137 pour une requête particulière.
  
```sql
SELECT x FROM correlated WHERE f1 = 0 AND f2 = 1 OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137)
``` 
 
## <a name="see-also"></a> Voir aussi  
[Types de données &#40;Transact-SQL&#41;](../../t-sql/data-types/data-types-transact-sql.md)  
[DBCC INPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-inputbuffer-transact-sql.md)  
[DBCC OUTPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-outputbuffer-transact-sql.md)  
[DBCC TRACEOFF &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md)  
[DBCC TRACEON &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md)  
[DBCC TRACESTATUS &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-tracestatus-transact-sql.md)  
[EXECUTE &#40;Transact-SQL&#41;](../../t-sql/language-elements/execute-transact-sql.md)  
[SELECT &#40;Transact-SQL&#41;](../../t-sql/queries/select-transact-sql.md)  
[SET NOCOUNT &#40;Transact-SQL&#41;](../../t-sql/statements/set-nocount-transact-sql.md)  
[ALTER DATABASE SET Options &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md)  
[ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md)  
[Indicateurs de requête (Transact-SQL)](../../t-sql/queries/hints-transact-sql-query.md)

