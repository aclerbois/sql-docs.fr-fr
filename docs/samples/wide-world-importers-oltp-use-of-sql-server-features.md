---
title: Utilisation de fonctionnalités de SQL Server | Documents Microsoft
ms.prod: sql
ms.prod_service: sql
ms.technology: samples
ms.custom: ''
ms.date: 01/19/2017
ms.reviewer: ''
ms.suite: sql
ms.tgt_pltfrm: ''
ms.topic: conceptual
ms.assetid: 06f89721-8478-4abc-8ada-e9c73b08bf51
caps.latest.revision: 2
author: MashaMSFT
ms.author: mathoma
manager: craigg
ms.openlocfilehash: 49062b7d9ff47912ded1b53ef6682e3bf750875b
ms.sourcegitcommit: 1740f3090b168c0e809611a7aa6fd514075616bf
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/03/2018
---
# <a name="use-of-sql-server-features-and-capabilities"></a>Utilisation de fonctionnalités de SQL Server
[!INCLUDE[appliesto-ss-asdb-xxxx-xxx-md](../includes/appliesto-ss-asdb-xxxx-xxx-md.md)]
WideWorldImporters utiliser de fonctionnalités de SQL Server dans la base de données OLTP.

WideWorldImporters est conçu pour illustrer la plupart des principales fonctionnalités de SQL Server, y compris les dernières fonctionnalités introduites dans SQL Server 2016. Voici une liste des fonctionnalités de SQL Server et fonctionnalités et une description de la façon dont elles sont utilisées dans WideWorldImporters.

|Fonctionnalité de SQL Server ou fonctionnalité|Utilisation de WideWorldImporters|
|-----------------------------|---------------------|
|Tables temporelles|Il existe de nombreuses tables temporelles, y compris toutes les tables de référence de style recherche et principales entités telles que StockItems, les clients et les fournisseurs. À l’aide des tables temporelles permet d’effectuer aisément le suivi de l’historique de ces entités.|
|Appels AJAX pour JSON|L’application utilise fréquemment des appels AJAX pour interroger ces tables : personnes, les clients, fournisseurs et StockItems. Les appels retournent des charges utiles JSON (autrement dit, les données qui sont retournées sont au format des données JSON). Voir, par exemple, la procédure stockée `Website.SearchForCustomers`.|
|Sacs de propriété/valeur JSON|Un nombre de tables ont des colonnes qui contiennent des données JSON pour étendre les données relationnelles dans la table. Par exemple, `Application.SystemParameters` possède une colonne de paramètres d’application et `Application.People` possède une colonne pour les préférences de l’enregistrement utilisateur. Ces tables utilisent un `nvarchar(max)` colonne pour enregistrer les données JSON, ainsi que d’une contrainte de validation à l’aide de la fonction intégrée `ISJSON` pour vous assurer de la colonne de valeurs sont un JSON valide.|
|Sécurité au niveau de la ligne (lignes)|Sécurité au niveau (lignes) est utilisé pour limiter l’accès à la table Customers, selon l’appartenance au rôle. Chaque secteur de vente a un rôle et un utilisateur. Pour le voir en action, utilisez le script correspondant dans l’exemple script.zip, ce qui fait partie de la [version de l’exemple](http://go.microsoft.com/fwlink/?LinkID=800630).|
|analytique opérationnelle en temps réel|(Version complète de la base de données) Les tables transactionnelle principales `Sales.InvoiceLines` et `Sales.OrderLines` ont tous deux un index columnstore non cluster pour prendre en charge une exécution efficace des requêtes analytiques dans la base de données transactionnel avec un impact minimal sur la charge de travail opérationnelle. En cours d’exécution des transactions et analytique dans la même base de données est également appelé [hybride transactionnelle/analytique de traitement (HTAP)](https://wikipedia.org/wiki/Hybrid_Transactional/Analytical_Processing_(HTAP)). Pour le voir en action, utilisez le script correspondant dans l’exemple script.zip, ce qui fait partie de la [version de l’exemple](http://go.microsoft.com/fwlink/?LinkID=800630).|
|PolyBase|Pour afficher cette PolyBase dans action, à l’aide d’une table externe avec un jeu de données public hébergé dans le stockage Azure blog, utilisez le script correspondant dans l’exemple script.zip, ce qui fait partie de la [version de l’exemple](http://go.microsoft.com/fwlink/?LinkID=800630).|
|OLTP en mémoire|(Version complète de la base de données) Les types de tables sont tous optimisées en mémoire, telles que les paramètres table (TVP) tous les tirer parti de l’optimisation de la mémoire.<br/><br/>Les deux tables d’analyse, `Warehouse.VehicleTemperatures` et `Warehouse.ColdRoomTemperatures`, sont optimisées en mémoire. Cela permet à la table ColdRoomTemperatures à remplir à la vitesse supérieure qu’une table basée sur disque traditionnelle. La table VehicleTemperatures conserve la charge utile JSON et se prête à l’extension vers IoT scénarios. La table des VehicleTemperatures se prête aux scénarios qui impliquent EventHubs, flux de données Analytique et Power BI.<br/><br/>La procédure stockée `Website.RecordColdRoomTemperatures` est compilé en mode natif afin d’optimiser les performances de l’enregistrement des températures ambiantes à froid.<br/><br/>Pour voir un exemple d’OLTP en mémoire en action, consultez le pilote de la charge de travail d’emplacements de véhicule dans drivers.zip de la charge de travail, ce qui fait partie de la [version de l’exemple](http://go.microsoft.com/fwlink/?LinkID=800630).|
|Index columnstore cluster|(Version complète de la base de données) La table `Warehouse.StockItemTransactions` utilise un index cluster columnstore. Le nombre de lignes dans cette table est supposé augmenter, et l’index cluster columnstore considérablement réduit la taille sur disque de la table et améliore les performances de requête. La modification de cette table sont uniquement insert - il n’existe aucune mise à jour/suppression de cette table dans la charge de travail en ligne - et un index columnstore cluster effectue également pour les charges de travail insert.|
|Masquage dynamique des données|Dans le schéma de base de données, le masquage des données a été appliqué aux détails de la banque conservées pour les fournisseurs, dans la table `Purchasing.Suppliers`. Le personnel non-admin n’aura pas accès à ces informations.|
|Always Encrypted|Une démonstration pour Always Encrypted est incluse dans le samples.zip téléchargeable, qui fait partie de la [version de l’exemple](http://go.microsoft.com/fwlink/?LinkID=800630)... La démonstration crée une clé de chiffrement, une table avec un chiffrement des données sensibles et un petit exemple d’application qui insère des données dans la table.|
|Base de données Stretch|Le `Warehouse.ColdRoomTemperatures` table a été implémentée comme une table temporelle et est optimisée en mémoire dans la version complète de la base de données. La table d’archive est basée sur le disque et peut être étendue à Azure.|
|Index de texte intégral|Index de recherche en texte intégral améliorent les recherches de personnes, les clients et StockItems. Les index sont appliquent aux requêtes uniquement si vous avez l’indexation de texte intégral est installé sur votre instance de SQL Server. Une colonne calculée non persistante est utilisée pour créer les données qui sont en texte intégral indexées dans la table StockItems.<br/><br/>`CONCAT` est utilisé pour concaténer les champs pour créer des SearchData qui est indexée en texte intégral.<br/>Pour activer l’utilisation des index de recherche en texte intégral dans l’exemple exécutez l’instruction suivante dans la base de données :<br/><br/>    `EXECUTE [Application].[Configuration_ConfigureFullTextIndexing]`<br/><br/>La procédure crée un catalogue de texte intégral par défaut si une n’existe pas déjà, puis remplace les vues de recherche en texte intégral des versions de ces vues).<br/><br/>Notez que l’utilisation des index de recherche en texte intégral dans SQL Server, en sélectionnant l’option de recherche en texte intégral lors de l’installation. Ne nécessite pas de base de données SQL Azure et une configuration spécifique pour activer les index de recherche en texte intégral.|
|Indexation des colonnes calculées persistantes|Indexation des colonnes calculées persistantes utilisées dans SupplierTransactions et CustomerTransactions.|
|Contraintes de validation|Une contrainte de validation relativement complexe est en `Sales.SpecialDeals`. Cela garantit que l’une et une seule de DiscountAmount, DiscountPercentage, et UnitPrice est configuré.|
|Contraintes uniques|De type plusieurs à plusieurs construction (et des contraintes uniques) sont configurés pour Warehouse.StockItemStockGroups'.|
|Le partitionnement de table|(Version complète de la base de données) Les tables `Sales.CustomerTransactions` et `Purchasing.SupplierTransactions` sont partitionnées par année à l’aide de la fonction de partition `PF_TransactionDate` et le schéma de partition `PS_TransactionDate`. Le partitionnement est utilisé pour améliorer la facilité de gestion des tables volumineuses.|
|Traitement de la liste|Type de table d’exemple `Website.OrderIDList` est fourni. Il est utilisé par un exemple de procédure `Website.InvoiceCustomerOrders`. La procédure utilise des Expressions de Table communes (CTE), TRY/CATCH, JSON_MODIFY, XACT_ABORT, NOCOUNT, THROW et XACT_STATE pour montre la possibilité de traiter une liste de commandes plutôt que simplement une commande unique, afin de réduire les allers-retours de l’application vers le moteur de base de données.|
|Compression GZip.|Le `Warehouse.VehicleTemperature`tableau de s conserve des données de capteur complète, mais lorsque ces données sont plus que quelques mois, elle est compressée pour économiser l’espace à l’aide de la fonction COMPRESS, qui utilise la compression GZip.<br/><br/>La vue `Website.VehicleTemperatures` utilise la fonction DECOMPRESS lors de la récupération de données qui a été précédemment compressées.|
|Magasin de requêtes|Magasin de requêtes est activé sur la base de données. Après l’exécution des requêtes, ouvrez la base de données dans Management Studio, ouvrez le nœud du magasin de requêtes, qui se trouve sous la base de données, et ouvrir le rapport de requêtes de consommatrices de ressources de haut pour voir les exécutions de la requête et les plans pour les requêtes que vous venez d’exécuter.|
|STRING_SPLIT|La colonne `DeliveryInstructions` dans la table `Sales.Invoices`possède une valeur séparée par des virgules qui peut être utilisée pour illustrer STRING_SPLIT.|
|Audit|SQL Server Audit peut être activé pour cette base de données exemple en exécutant l’instruction suivante dans la base de données :<br/><br/>    `EXECUTE [Application].[Configuration_ApplyAuditing]`<br/><br/>Dans la base de données SQL Azure, l’audit est activé via le [portail Azure](https://portal.azure.com/).<br/><br/>Opérations de sécurité impliquant des connexions, rôles et les autorisations sont enregistrées sur tous les systèmes où l’audit est activé (y compris les systèmes de l’édition standard). Audit est dirigé vers le journal des applications, car il n’est disponible sur tous les systèmes et ne nécessite pas d’autorisations supplémentaires. Un avertissement est étant donné que pour une sécurité accrue, il doit être redirigé vers le journal de sécurité ou à un fichier dans un dossier sécurisé. Un lien est fourni pour décrire la configuration supplémentaire requise.<br/><br/>Pour les systèmes d’évaluation/développeur/enterprise edition, l’accès à toutes les données transactionnelles financières est audité.|
