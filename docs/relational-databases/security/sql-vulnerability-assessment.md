---
title: Évaluation des vulnérabilités SQL | Microsoft Docs
ms.custom: ''
ms.date: 11/30/2017
ms.prod: sql
ms.prod_service: security, sql-database
ms.reviewer: ''
ms.suite: sql
ms.technology: security
ms.tgt_pltfrm: ''
ms.topic: conceptual
helpviewer_keywords:
- SQL Vulnerability Assessment
caps.latest.revision: 7
author: yualan
ms.author: alayu
manager: craigg
monikerRange: = azuresqldb-current || >= sql-server-2016 || = sqlallproducts-allversions
ms.openlocfilehash: 79899ffbdbc914a9bbca5574441beb125ef4a96a
ms.sourcegitcommit: 1740f3090b168c0e809611a7aa6fd514075616bf
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/03/2018
---
# <a name="sql-vulnerability-assessment"></a>Évaluation des vulnérabilités SQL

[!INCLUDE[appliesto-ss-asdb-xxxx-xxx-md](../../includes/appliesto-ss-asdb-xxxx-xxx-md.md)]

L’évaluation des vulnérabilités SQL est un outil simple d’utilisation permettant de découvrir, de suivre et de corriger les vulnérabilités potentielles de la base de données. Utilisez-le pour améliorer de façon proactive la sécurité de votre base de données.

L’évaluation des vulnérabilités est **prise en charge pour SQL Server 2012 et les versions ultérieures** ; il est également possible de l’exécuter sur [Azure SQL Database](https://docs.microsoft.com/en-us/azure/sql-database/sql-vulnerability-assessment).

## <a name="vulnerability-assessment-features"></a>Fonctionnalités de l’évaluation des vulnérabilités
L’évaluation des vulnérabilités SQL est un service qui offre de la visibilité sur l’état de sécurité, et comporte des étapes actionnables pour résoudre les problèmes de sécurité et améliorer la sécurité de la base de données. Elle peut vous aider à :
- Répondre aux exigences de conformité qui nécessitent des rapports d’analyse de la base de données. 
- Répondre aux normes de protection des données personnelles.
- Effectuer le monitoring d’un environnement de base de données dynamique, dans lequel les modifications sont difficiles à suivre.

Le service d’évaluation des vulnérabilités exécute une analyse directement sur la base de données. Le service utilise une base de connaissances de règles qui marquent les failles de sécurité et met en évidence les écarts par rapport aux meilleures pratiques, notamment les erreurs de configuration, les autorisations excessives et les données sensibles non protégées. Les règles sont basées sur les meilleures pratiques recommandées par Microsoft et se concentrent sur les problèmes de sécurité qui présentent le plus de risques pour la base de données et ses données importantes. Elles représentent également la plupart des exigences des différentes instances réglementaires, visant au respect de leurs normes de conformité.

Les résultats de l’analyse sont accompagnés d’étapes actionnables pour résoudre chaque problème et, le cas échéant, de scripts de correction personnalisés. Vous pouvez personnaliser le rapport d’évaluation en fonction de votre environnement, en définissant une ligne de base acceptable pour la configuration des autorisations et des fonctionnalités et pour les paramètres de la base de données. 

## <a name="prerequisites"></a>Conditions préalables requises
Cette fonctionnalité est uniquement disponible sur SQL Server Management Studio (SSMS) 17.4 ou version ultérieure. Veillez à utiliser la version la plus récente. Vous trouverez [ici](https://docs.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms) la dernière version.

## <a name="getting-started"></a>Prise en main
Pour exécuter une évaluation des vulnérabilités sur votre base de données, suivez ces étapes :
   1.   Ouvrez **SQL Server Management Studio**.

   2.   Connectez-vous à une instance du Moteur de base de données SQL Server ou à un hôte local.

   3.   Développez **Bases de données**, cliquez avec le bouton droit sur une base de données, pointez sur **Tâches**, sélectionnez **Évaluation des vulnérabilités** et cliquez sur **Rechercher les vulnérabilités...**

   4.   Vous pouvez exécuter une analyse qui recherche les problèmes au niveau du serveur en analysant une des bases de données système. Développez **Bases de données système**, cliquez avec le bouton droit sur la base de données **MASTER**, pointez sur **Tâches**, sélectionnez **Évaluation des vulnérabilités** et cliquez sur **Rechercher les vulnérabilités...**

   ![bien-démarrer](media/sql-vulnerability-assessment/1-SSMSGetStarted.png)

## <a name="tutorial"></a>Didacticiel
Suivez les étapes ci-dessous pour exécuter et gérer des évaluations des vulnérabilités sur vos bases de données.

### <a name="1-run-a-scan"></a>1. Exécuter une analyse

La boîte de dialogue Rechercher les vulnérabilités permet de spécifier l’emplacement d’enregistrement des analyses. Vous pouvez laisser l’emplacement par défaut ou cliquer sur **Parcourir...** pour enregistrer les résultats de l’analyse à un autre emplacement.

Dès que vous souhaitez lancer l’analyse, cliquez sur **OK** pour rechercher les vulnérabilités de votre base de données.

  > [!NOTE]   
  > L’analyse est légère et sûre. Elle met quelques secondes à s’exécuter, entièrement en lecture seule. Elle n’apporte aucune modification à la base de données.

![enregistrer le fichier d’analyse](media/sql-vulnerability-assessment/2-ssmssavescanfile.png)

### <a name="2-view-the-report"></a>2. Afficher le rapport

Lorsque votre analyse est terminée, votre rapport d’analyse s’affiche automatiquement dans le volet SSMS principal. Il présente une vue d’ensemble de l’état de la sécurité, le nombre de problèmes détectés et leur gravité. Parmi les résultats figurent des avertissements sur les écarts par rapport aux meilleures pratiques, ainsi qu’une capture des paramètres de sécurité, notamment les rôles et principaux de base de données et les autorisations associées. Le rapport d’analyse fournit également une carte des données sensibles découvertes dans la base de données, et comprend des recommandations de méthodes prédéfinies pour les protéger.

![résultats de l’analyse](media/sql-vulnerability-assessment/3-ssmsscanresults.png)

### <a name="3-analyze-the-results-and-resolve-issues"></a>3. Analyser les résultats et résoudre les problèmes

Passez en revue vos résultats et déterminez lesquels représentent de véritables problèmes de sécurité dans votre environnement. Explorez au niveau du détail chaque échec pour comprendre l’impact du résultat et la raison pour laquelle la vérification de sécurité a échoué. Utilisez les informations de correction actionnables fournies par le rapport pour résoudre le problème.

![détails des résultats](media/sql-vulnerability-assessment/4-ssmsresultdetails.png)

### <a name="4-set-your-baseline"></a>4. Définir une ligne de base

Lorsque vous examinez les résultats de votre évaluation, vous pouvez indiquer, pour certains d’entre eux, qu’ils constituent une **Ligne de base** acceptable dans votre environnement. La ligne de base est en somme une personnalisation du signalement des résultats. Les résultats correspondant à la ligne de base seront considérés comme corrects lors des analyses ultérieures. 

Lorsque vous aurez établi votre état de sécurité de référence, l’évaluation des vulnérabilités signalera uniquement les écarts par rapport à la ligne de base, et vous pourrez porter votre attention sur les problèmes pertinents.

![définir la ligne de base](media/sql-vulnerability-assessment/5-ssmssetbaseline.png)

### <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Exécuter une nouvelle analyse pour afficher le rapport de suivi personnalisé

Après avoir terminé la configuration de vos **Lignes de base de règles**, exécutez une nouvelle analyse pour afficher le rapport personnalisé. L’évaluation des vulnérabilités ne signale plus que les problèmes de sécurité qui s’écartent de l’état de la ligne de base que vous avez approuvée.

![réussite en fonction de la ligne de base](media/sql-vulnerability-assessment/6-ssmspassperbaseline.png)

### <a name="6-open-a-previously-run-scan"></a>6. Ouvrir une analyse exécutée précédemment

Vous pouvez à tout moment afficher les résultats des évaluations des vulnérabilités exécutées précédemment en ouvrant une analyse existante. Pour cela, double-cliquez sur une base de données, pointez sur **Tâches**, sélectionnez **Évaluation des vulnérabilités** et cliquez sur **Ouvrir une analyse existante...**  Sélectionnez le fichier de résultats d’analyse que vous souhaitez afficher et cliquez sur **Ouvrir**. 

Vous pouvez également ouvrir un résultat d’analyse existant dans le menu **Fichier -> Ouvrir**. Sélectionnez **Évaluation des vulnérabilités...** et ouvrez le répertoire **Analyses** pour trouver le résultat d’analyse que vous souhaitez afficher.

![ouvrir une analyse existante](media/sql-vulnerability-assessment/7-ssmsopenexistingscan.png)

L’évaluation des vulnérabilités permet désormais de maintenir à tout moment un niveau élevé de sécurité dans les bases de données et de respecter les stratégies organisationnelles. Si des rapports de conformité sont requis, ceux de l’évaluation des vulnérabilités peuvent être utiles pour faciliter le processus de conformité.
  
## <a name="next-steps"></a>Étapes suivantes
Pour en savoir plus sur l’évaluation des vulnérabilités SQL, consultez les ressources suivantes :
- [Exécuter une évaluation des vulnérabilités sur Azure SQL Database](https://docs.microsoft.com/en-us/azure/sql-database/sql-vulnerability-assessment) 
- [Vidéo Channel 9 illustrant l’utilisation de l’évaluation des vulnérabilités](https://channel9.msdn.com/Shows/Data-Exposed/Track-and-remediate-potential-database-vulnerabilities-with-SQL-Vulnerability-Assessment)
  
